(this["webpackJsonpparcial2-web"]=this["webpackJsonpparcial2-web"]||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(46),r=n.n(i),s=(n(124),n(13)),o=n(136),l=n(137),d=n(140),j=n(141),u=(n(125),n(126),n(138)),h=n(135),f=n(1);var b=function(e){var t=e.room;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(h.a,{striped:!0,bordered:!0,hover:!0,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"ID"}),Object(f.jsx)("th",{children:Object(f.jsx)(j.a,{id:"Device"})}),Object(f.jsx)("th",{children:Object(f.jsx)(j.a,{id:"Value"})})]})}),Object(f.jsx)("tbody",{children:t.devices.map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t+1}),Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:e.name}),Object(f.jsx)("td",{children:e.desired.value.toString()})]},t)}))})]})})},g=n(18),p=function(e){var t=e.rooms,n=Object(c.useRef)();return Object(c.useEffect)((function(){var e=g.b().value((function(e){return e.powerUsage.value}))(t),c=g.a().innerRadius(0).outerRadius(200),a=g.c(["#ffa822","#134e6f","#ff6150","#1ac0c6","#dee0e6"]),i=g.d(n.current).attr("width",600).attr("height",600).append("g").attr("transform","translate(300,300)"),r=g.d("#chartArea").append("div").style("visibility","hidden").style("position","absolute").style("background-color","red");i.append("g").selectAll("path").data(e).join("path").attr("d",c).attr("fill",(function(e,t){return a(t)})).attr("stroke","white").on("mouseover",(function(e,t){r.style("visibility","visible").text("".concat(t.data.name,": ").concat(t.value," KwH"))})).on("mousemove",(function(e,t){r.style("top",e.pageY-50+"px").style("left",e.pageX-50+"px")})).on("mouseout",(function(){r.style("visibility","hidden")}))})),Object(f.jsxs)("div",{style:{textAlign:"center"},id:"chartArea",children:[Object(f.jsx)("h4",{style:{textAlign:"center"},children:Object(f.jsx)(j.a,{id:"Power"})}),Object(f.jsx)("svg",{ref:n})]})},m=function(e){var t=e.id,n=Object(c.useState)([]),a=Object(s.a)(n,2),i=a[0],r=a[1],h=Object(c.useState)(),g=Object(s.a)(h,2),m=g[0],O=g[1];Object(c.useEffect)((function(){if(navigator.onLine)fetch("https://gist.githubusercontent.com/josejbocanegra/92c90d5f2171739bd4a76d639f1271ea/raw/9effd124c825f7c2a7087d4a50fa4a91c5d34558/rooms.json").then((function(e){return e.json()})).then((function(e){localStorage.setItem("rooms",JSON.stringify(e));var n=e.filter((function(e){return e.homeId===t}));r(n)}));else{var e=JSON.parse(localStorage.getItem("rooms"));if(null!==e){var n=e.filter((function(e){return e.homeId===t}));r(n)}}}),[t]);var x=function(e){return e.name.includes("Kit")?"https://wwwhatsnew.com/wp-content/uploads/2019/09/La-cocina_Un-%C3%A1rea-de-la-casa-en-peligro-de-extinci%C3%B3n-1.jpg":e.name.includes("Living")?"http://loredomuebles.com/wp-content/uploads/2017/03/Sala-de-estar-1080x675.jpg":"https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/dining-room-ideas-1252-005-1621977481.jpg"};return Object(f.jsxs)(o.a,{children:[Object(f.jsx)(l.a,{children:Object(f.jsx)("h1",{className:"header",children:Object(f.jsx)(j.a,{id:"MyRooms"})})}),Object(f.jsxs)(l.a,{children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(l.a,{children:i&&i.length&&i.map((function(e){return Object(f.jsx)(u.a,{children:Object(f.jsxs)(d.a,{onClick:function(){return O(e)},style:{width:"18rem"},children:[Object(f.jsx)(d.a.Img,{variant:"top",src:x(e),alt:e.title}),Object(f.jsx)(d.a.Body,{children:Object(f.jsx)(d.a.Title,{children:e.name})})]})},e.name+e.homeId)}))})}),Object(f.jsx)(u.a,{children:null!=m?Object(f.jsx)(b,{room:m}):null})]}),Object(f.jsx)(l.a,{children:Object(f.jsx)("h1",{className:"header",children:Object(f.jsx)(j.a,{id:"Stats"})})}),Object(f.jsx)(l.a,{children:Object(f.jsx)(p,{rooms:i})})]})};var O=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(),r=Object(s.a)(i,2),u=r[0],h=r[1];return Object(c.useEffect)((function(){if(navigator.onLine)fetch("https://gist.githubusercontent.com/josejbocanegra/0067d2b28b009140fee423cfc84e40e6/raw/6e6b11160fbcacb56621b6422684d615dc3a0d33/spaces.json").then((function(e){return e.json()})).then((function(e){h(e),localStorage.setItem("spaces",JSON.stringify(e))})),fetch("https://gist.githubusercontent.com/josejbocanegra/92c90d5f2171739bd4a76d639f1271ea/raw/9effd124c825f7c2a7087d4a50fa4a91c5d34558/rooms.json").then((function(e){return e.json()})).then((function(e){localStorage.setItem("rooms",JSON.stringify(e))}));else{var e=JSON.parse(localStorage.getItem("spaces"));null!==e&&h(e)}}),[]),Object(f.jsxs)(o.a,{children:[Object(f.jsx)(l.a,{children:Object(f.jsx)("h1",{className:"header",children:Object(f.jsx)(j.a,{id:"MySpaces"})})}),Object(f.jsx)(l.a,{className:"flex-row",children:u&&u.length&&u.map((function(e){return e.name.includes("Casa")?e.img="https://i.imgur.com/W26HJoz.jpg":e.img="https://amarilo.com.co/sites/default/files/fachada_interior_salamanca_1111x750p.jpg",Object(f.jsxs)(d.a,{onClick:function(){return a(e)},style:{width:"18rem"},children:[Object(f.jsx)(d.a.Img,{variant:"top",src:e.img,alt:e.title}),Object(f.jsxs)(d.a.Body,{children:[Object(f.jsx)(d.a.Title,{children:e.name}),Object(f.jsx)(d.a.Text,{children:e.address})]})]},e.name)}))}),Object(f.jsx)(l.a,{children:null!=n?Object(f.jsx)(m,{id:n.id},n):null})]})},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,142)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},y=(n(131),n(139)),S=n(48),k=n(49);function I(){return navigator.language||navigator.userLanguage}r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(y.a,{locale:I().substring(0,2),messages:"es"===I().substring(0,2)?S:"en"===I().substring(0,2)?k:void 0,children:Object(f.jsx)(O,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");x?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):v(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):v(t,e)}))}}(),w()},48:function(e){e.exports=JSON.parse('{"MySpaces":"Mis Espacios","MyRooms":"Mis Cuartos","Stats":"Estad\xedsticas","Device":"Dispositivo","Value":"Valor","Power":"Uso de Energ\xeda (KwH) Hoy"}')},49:function(e){e.exports=JSON.parse('{"MySpaces":"My spaces","MyRooms":"My rooms","Stats":"Stats","Device":"Device","Value":"Value","Power":"Power usage (KwH) - Today"}')}},[[132,1,2]]]);
//# sourceMappingURL=main.a11c89ba.chunk.js.map